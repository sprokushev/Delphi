object frm1cTTNPar: Tfrm1cTTNPar
  Left = 273
  Top = 248
  Width = 733
  Height = 528
  Caption = #1047#1072#1075#1088#1091#1079#1082#1072' '#1058#1058#1053
  Color = clBtnFace
  Font.Charset = DEFAULT_CHARSET
  Font.Color = clWindowText
  Font.Height = -11
  Font.Name = 'MS Sans Serif'
  Font.Style = []
  OldCreateOrder = False
  OnClose = FormClose
  OnCreate = FormCreate
  PixelsPerInch = 96
  TextHeight = 13
  object DBGridEh1: TDBGridEh
    Left = 256
    Top = 88
    Width = 449
    Height = 161
    DataSource = dsTTN
    FooterColor = clWindow
    FooterFont.Charset = DEFAULT_CHARSET
    FooterFont.Color = clWindowText
    FooterFont.Height = -11
    FooterFont.Name = 'MS Sans Serif'
    FooterFont.Style = []
    TabOrder = 0
    TitleFont.Charset = DEFAULT_CHARSET
    TitleFont.Color = clWindowText
    TitleFont.Height = -11
    TitleFont.Name = 'MS Sans Serif'
    TitleFont.Style = []
  end
  object BitBtn1: TBitBtn
    Left = 512
    Top = 16
    Width = 75
    Height = 25
    Action = acTTN2Par
    Caption = #1058#1058#1053' '#1074' '#1087#1072#1088#1091#1089
    TabOrder = 1
  end
  object BitBtn2: TBitBtn
    Left = 592
    Top = 16
    Width = 75
    Height = 25
    Action = acReload
    Caption = #1054#1073#1085#1086#1074#1080#1090#1100
    TabOrder = 2
  end
  object grTTN_Det: TDBGridEh
    Left = 256
    Top = 264
    Width = 449
    Height = 169
    DataSource = dsTTN_det
    FooterColor = clWindow
    FooterFont.Charset = DEFAULT_CHARSET
    FooterFont.Color = clWindowText
    FooterFont.Height = -11
    FooterFont.Name = 'MS Sans Serif'
    FooterFont.Style = []
    TabOrder = 3
    TitleFont.Charset = DEFAULT_CHARSET
    TitleFont.Color = clWindowText
    TitleFont.Height = -11
    TitleFont.Name = 'MS Sans Serif'
    TitleFont.Style = []
  end
  object oraTTN: TOracleDataSet
    SQL.Strings = (
      ''
      
        'SELECT /*+ RULE*/ DISTINCT Ttn.Ttn_date, Ttn.Ttn_numb, Pbe.Pbe_p' +
        'arus_abbr, St.Store_parus_abbr,'
      
        '     Agn.Agn_parus_facc AS sfaceacc, Agn.Agn_parus_agnabbr AS sa' +
        'gent,'
      '     Fifo.Agn_parus_agnabbr AS fifo,'
      
        #9'   fa.SVALID_DOCNUMB, fa.SVALID_DOCTYPE,fa.DVALID_DOCDATE,fa.ST' +
        'ARIF,'
      '     fa.SSHIP_TYPE AS sshipview,'
      #9'   fa.SPAY_TYPE,fa.SAGNACC AS sacc_agent,fa.SSUBDIV,'
      
        #9'   SUM(ttn.TTN_SUMWN) AS nSUMMWITHNDS,SUM(ttn.TTN_SUMWON-ttn.TT' +
        'N_nds) AS nSUMM'
      '  FROM RUI_ARX_TTN Ttn,'
      '       RUI_ARX_STORE St,'
      '       RUI_ARX_PBE Pbe,'
      '       RUI_ARX_AGN Agn,'
      '       RUI_ARX_AGN Fifo,'
      #9'     v_faceacc fa'
      ' WHERE RTRIM(Ttn.Ttn_pbe) = RTRIM(Pbe.Pbe_name)'
      '        AND RTRIM(Ttn.Ttn_store) = RTRIM(St.Store_name)'
      '        AND RTRIM(Ttn.Ttn_agn) = RTRIM(Agn.Agn_abbr)'
      '        AND RTRIM(Ttn.Ttn_fifo) = RTRIM(Fifo.Agn_abbr)'
      #9#9'AND RTRIM(agn.AGN_PARUS_FACC)=RTRIM(fa.SNUMBER)'
      #9#9'AND ttn.TTN_PARUS_RN_DET=0'
      
        'GROUP BY Ttn.Ttn_date, Ttn.Ttn_numb, Pbe.Pbe_parus_abbr, St.Stor' +
        'e_parus_abbr,'
      
        '     Agn.Agn_parus_facc, Agn.Agn_parus_agnabbr, Fifo.Agn_parus_a' +
        'gnabbr,'
      
        #9'   fa.SVALID_DOCNUMB, fa.SVALID_DOCTYPE,fa.DVALID_DOCDATE,fa.ST' +
        'ARIF,fa.SSHIP_TYPE,'
      #9'   fa.SPAY_TYPE,fa.SAGNACC,fa.SSUBDIV'
      '      ')
    QBEDefinition.QBEFieldDefs = {
      03000000110000000800000054544E5F4441544501000000000800000054544E
      5F4E554D4201000000000E0000005042455F50415255535F4142425201000000
      001000000053544F52455F50415255535F414242520100000000080000005346
      414345414343010000000006000000534147454E540100000000040000004649
      464F01000000000E0000005356414C49445F444F434E554D4201000000000E00
      00005356414C49445F444F435459504501000000000E0000004456414C49445F
      444F434441544501000000000600000053544152494601000000000900000053
      5348495056494557010000000009000000535041595F5459504501000000000A
      000000534143435F4147454E5401000000000700000053535542444956010000
      00000C0000004E53554D4D574954484E44530100000000050000004E53554D4D
      0100000000}
    Session = oraSesMain
    Left = 368
    Top = 8
  end
  object oraSesMain: TOracleSession
    LogonUsername = 'pvz'
    LogonDatabase = 'PTEST'
    Left = 16
    Top = 8
  end
  object dsCatalog: TDataSource
    DataSet = oraCatalog
    Left = 133
    Top = 281
  end
  object oraNextNumb: TOracleQuery
    SQL.Strings = (
      'begin'
      'P_BANKDOCS_GETNEXTNUMB (:company, :pref ,:doctype, :snumb);'
      'end;')
    Session = oraSesMain
    Variables.Data = {
      0300000004000000080000003A434F4D50414E59030000000000000000000000
      050000003A50524546050000000000000000000000080000003A444F43545950
      45050000000000000000000000060000003A534E554D42050000000000000000
      000000}
    Left = 308
    Top = 6
  end
  object ActionManager1: TActionManager
    Left = 168
    Top = 8
    StyleName = 'XP Style'
    object acTTN2Par: TAction
      Caption = #1058#1058#1053' '#1074' '#1087#1072#1088#1091#1089
      OnExecute = acTTN2ParExecute
    end
    object acReload: TAction
      Caption = #1054#1073#1085#1086#1074#1080#1090#1100
      OnExecute = acReloadExecute
    end
  end
  object oraQ: TOracleQuery
    Session = oraSesMain
    Left = 104
    Top = 16
  end
  object dsTTN: TDataSource
    DataSet = oraTTN
    Left = 416
    Top = 8
  end
  object oraCatalog: TOracleDataSet
    SQL.Strings = (
      
        'select * from v_acatalog where unitcode='#39'GoodsTransInvoicesToCon' +
        'sumers'#39)
    QBEDefinition.QBEFieldDefs = {
      030000000800000002000000524E01000000000300000043524E010000000004
      0000004E414D45010000000008000000554E4954434F44450100000000070000
      0056455253494F4E010000000007000000434F4D50414E590100000000040000
      00505249560100000000050000005349474E530100000000}
    ReadOnly = True
    Session = oraSesMain
    Left = 124
    Top = 236
  end
  object oraTTN_det: TOracleDataSet
    SQL.Strings = (
      
        'SELECT /*+ RULE*/ Ttn.Ttn_numb, Nom.Nomn_parus_modif, Nom.Nomn_p' +
        'arus_pack, Dn.Stax_group,'
      
        '       Dn.Nomen_code, Ttn.Ttn_ei, Ttn.Ttn_quan, Ttn.Ttn_koef, Tt' +
        'n.Ttn_price,'
      
        '       Ttn.Ttn_sumwon-Ttn.Ttn_nds as nsumm, Ttn.Ttn_sumwn as nsu' +
        'mwithnds,p.NQUANT'
      '  FROM RUI_ARX_TTN Ttn,'
      '       RUI_ARX_DICNOMN Nom,'
      '       V_nommodif MOD,'
      '       V_nomnmodifpack P,'
      '       V_dicnomns Dn'
      ' WHERE  (Ttn.Ttn_nomen) =  (Nom.Nomn_abbr)'
      '   AND  (Nom.Nomn_parus_modif) =  (MOD.Smodif_code)'
      '   AND MOD.Nprn = Dn.Rn'
      '   AND  Nom.Nomn_parus_pack =  P.Snompackcode (+)'
      '    AND ttn.TTN_PARUS_RN_DET=0'
      '    and ttn.Ttn_numb=:Ttn_numb')
    Variables.Data = {
      0300000001000000090000003A54544E5F4E554D420500000007000000D13034
      3931370000000000}
    QBEDefinition.QBEFieldDefs = {
      030000000C0000000800000054544E5F4E554D420100000000100000004E4F4D
      4E5F50415255535F4D4F44494601000000000F0000004E4F4D4E5F5041525553
      5F5041434B01000000000A000000535441585F47524F555001000000000A0000
      004E4F4D454E5F434F444501000000000600000054544E5F4549010000000008
      00000054544E5F5155414E01000000000800000054544E5F4B4F454601000000
      000900000054544E5F50524943450100000000050000004E53554D4D01000000
      000B0000004E53554D574954484E44530100000000060000004E5155414E5401
      00000000}
    Master = oraTTN
    MasterFields = 'Ttn_numb'
    Session = oraSesMain
    Left = 368
    Top = 56
  end
  object dsTTN_det: TDataSource
    DataSet = oraTTN_det
    Left = 416
    Top = 56
  end
  object oraInvIns: TOracleQuery
    SQL.Strings = (
      'begin'
      'P_TRANSINVCUST_INSERT'
      '('
      ' :nCOMPANY,'
      ' :nCRN,'
      ' :sJUR_PERS,'
      ' :sDOCTYPE,'
      ' :sPREF,'
      ' :sNUMB,'
      ' :dDOCDATE,'
      ' :dSALEDATE,'
      ' :sACCDOC,'
      ' :sACCNUMB,'
      ' :dACCDATE,'
      ' :sDIRDOC,'
      ' :sDIRNUMB,'
      ' :dDIRDATE,'
      ' :sSTOPER,'
      ' :sFACEACC,'
      ' :sGRAPHPOINT,'
      ' :sAGENT,'
      ' :sTARIF,'
      ' :nSERVACT_SIGN,'
      ' :sSTORE,'
      ' :sMOL,'
      ' :sSHEEPVIEW,'
      ' :sPAYTYPE,'
      ' :nDISCOUNT,'
      ' :sCURRENCY,'
      ' :nCURCOURS,'
      ' :nCURBASE,'
      ' :nFA_COURS,'
      ' :nFA_BASECOURS,'
      ' :nSUMM,'
      ' :nSUMMWITHNDS,'
      ' :sRECIPDOC,'
      ' :sRECIPNUMB,'
      ' :dRECIPDATE,'
      ' :sFERRYMAN,'
      ' :sAGNFIFO,'
      ' :sFORWARDER,'
      ' :sWAYBLADENUMB,'
      ' :sDRIVER,'
      ' :sCAR,'
      ' :sROUTE,'
      ' :sTRAILER1,'
      ' :sTRAILER2,'
      ' :sCOMMENTS,'
      ' :sACC_AGENT,'
      ' :sSUBDIV,'
      ' :nRN,'
      ' :sBARCODE,'
      ' :sMSG'
      ');'
      'end;')
    Session = oraSesMain
    Variables.Data = {
      0300000032000000090000003A4E434F4D50414E590300000000000000000000
      00050000003A4E43524E0300000000000000000000000A0000003A534A55525F
      50455253050000000000000000000000090000003A53444F4354595045050000
      000000000000000000060000003A535052454605000000000000000000000006
      0000003A534E554D42050000000000000000000000090000003A44444F434441
      54450C00000000000000000000000A0000003A4453414C45444154450C000000
      0000000000000000080000003A53414343444F43050000000000000000000000
      090000003A534143434E554D42050000000000000000000000090000003A4441
      4343444154450C0000000000000000000000080000003A53444952444F430500
      00000000000000000000090000003A534449524E554D42050000000000000000
      000000090000003A44444952444154450C000000000000000000000008000000
      3A5353544F504552050000000000000000000000090000003A53464143454143
      430500000000000000000000000C0000003A534752415048504F494E54050000
      000000000000000000070000003A534147454E54050000000000000000000000
      070000003A5354415249460500000000000000000000000E0000003A4E534552
      564143545F5349474E030000000000000000000000070000003A5353544F5245
      050000000000000000000000050000003A534D4F4C0500000000000000000000
      000B0000003A5353484545505649455705000000000000000000000009000000
      3A53504159545950450500000000000000000000000A0000003A4E444953434F
      554E540300000000000000000000000A0000003A5343555252454E4359050000
      0000000000000000000A0000003A4E435552434F555253030000000000000000
      000000090000003A4E435552424153450300000000000000000000000A000000
      3A4E46415F434F5552530300000000000000000000000E0000003A4E46415F42
      415345434F555253030000000000000000000000060000003A4E53554D4D0400
      000000000000000000000D0000003A4E53554D4D574954484E44530400000000
      000000000000000A0000003A535245434950444F430500000000000000000000
      000B0000003A5352454349504E554D420500000000000000000000000B000000
      3A445245434950444154450C00000000000000000000000A0000003A53464552
      52594D414E050000000000000000000000090000003A5341474E4649464F0500
      000000000000000000000B0000003A53464F5257415244455205000000000000
      00000000000E0000003A53574159424C4144454E554D42050000000000000000
      000000080000003A53445249564552050000000000000000000000050000003A
      53434152050000000000000000000000070000003A53524F5554450500000000
      000000000000000A0000003A53545241494C4552310500000000000000000000
      000A0000003A53545241494C4552320500000000000000000000000A0000003A
      53434F4D4D454E54530500000000000000000000000B0000003A534143435F41
      47454E54050000000000000000000000080000003A5353554244495605000000
      0000000000000000040000003A4E524E05000000000000000000000009000000
      3A53424152434F4445050000000000000000000000050000003A534D53470500
      00000000000000000000}
    Left = 76
    Top = 185
  end
  object oraInvsIns: TOracleQuery
    SQL.Strings = (
      'begin'
      'P_TRANSINVCUSTSPECS_INSERT'
      '('
      '  :nCOMPANY,'
      '  :nPRN,'
      '  :sTAXGR,'
      '  :sGOODSPARTY,'
      '  :sNOMEN,'
      '  :sNOMNMODIFPACK,'
      '  :sNOMMODIF,'
      '  :sARTICLE,'
      '  :sCELL,'
      '  :nPRICE,'
      '  :nDISCOUNT,'
      '  :nQUANT,'
      '  :nQUANTALT,'
      '  :nPRICEMEAS,'
      '  :nSUMM,'
      '  :nSUMMWITHNDS,'
      '  :dBEGINDATE,'
      '  :dENDDATE,'
      '  :sSERNUMB,'
      '  :sCOUNTRY,'
      '  :sGTD,'
      '  :sNOTE,'
      '  :nRN,'
      '  :sMSG'
      ');'
      'end;')
    Session = oraSesMain
    Variables.Data = {
      0300000018000000090000003A4E434F4D50414E590300000000000000000000
      00050000003A4E50524E050000000000000000000000070000003A5354415847
      520500000000000000000000000C0000003A53474F4F44535041525459050000
      000000000000000000070000003A534E4F4D454E050000000000000000000000
      0F0000003A534E4F4D4E4D4F4449465041434B0500000000000000000000000A
      0000003A534E4F4D4D4F444946050000000000000000000000090000003A5341
      525449434C45050000000000000000000000060000003A5343454C4C05000000
      0000000000000000070000003A4E50524943450400000000000000000000000A
      0000003A4E444953434F554E54030000000000000000000000070000003A4E51
      55414E540400000000000000000000000A0000003A4E5155414E54414C540400
      000000000000000000000B0000003A4E50524943454D45415303000000000000
      0000000000060000003A4E53554D4D0400000000000000000000000D0000003A
      4E53554D4D574954484E44530400000000000000000000000B0000003A444245
      47494E444154450C0000000000000000000000090000003A44454E4444415445
      0C0000000000000000000000090000003A535345524E554D4205000000000000
      0000000000090000003A53434F554E5452590500000000000000000000000500
      00003A53475444050000000000000000000000060000003A534E4F5445050000
      000000000000000000040000003A4E524E050000000000000000000000050000
      003A534D5347050000000000000000000000}
    Left = 140
    Top = 185
  end
end
