--
-- REPL_LIST  (Table) 
--
CREATE TABLE MASTER.REPL_LIST
(
  ID              NUMBER(10)                    NOT NULL,
  NAME            VARCHAR2(50 BYTE),
  TAG             VARCHAR2(20 BYTE),
  REPL_KIND       NUMBER(10)                    DEFAULT 1,
  SRC_SITE        NUMBER(10),
  SRC_INFO_T      NUMBER(10)                    DEFAULT NULL,
  SRC_SCHEM       VARCHAR2(150 BYTE),
  SRC_TABLE       VARCHAR2(50 BYTE),
  SRC_FIELDS      VARCHAR2(1000 BYTE),
  SRC_WHERE       VARCHAR2(250 BYTE),
  SRC_QUERY       VARCHAR2(4000 BYTE),
  DST_SITE        NUMBER(10),
  DST_SCHEM       VARCHAR2(150 BYTE),
  DST_TABLE       VARCHAR2(50 BYTE),
  DST_FIELDS      VARCHAR2(1000 BYTE),
  DST_UNIQ        VARCHAR2(100 BYTE),
  SP_TYPE_BF      NUMBER(10)                    DEFAULT 0,
  SP_NAME_BF      VARCHAR2(250 BYTE),
  SP_TYPE_AF      NUMBER(10)                    DEFAULT 0,
  SP_NAME_AF      VARCHAR2(250 BYTE),
  COMPUTE_ST      VARCHAR2(100 BYTE),
  DATE_FIELD      VARCHAR2(10 BYTE),
  DATE_BEG        VARCHAR2(10 BYTE),
  DATE_END        VARCHAR2(10 BYTE),
  LASTDATE        DATE,
  LASTTIME        VARCHAR2(8 BYTE),
  LASTSIZE        NUMBER(14),
  PARAM1          VARCHAR2(30 BYTE),
  PARAM2          VARCHAR2(30 BYTE),
  PARAM3          VARCHAR2(30 BYTE),
  CHECK_MODE      NUMBER(10)                    DEFAULT 2,
  FLAG_IS         VARCHAR2(20 BYTE),
  STAT_SCHEM      VARCHAR2(150 BYTE),
  STAT_TABLE      VARCHAR2(50 BYTE),
  STAT_QUERY      VARCHAR2(4000 BYTE),
  REPL_SCHEM      VARCHAR2(50 BYTE),
  REPL_TABLE      VARCHAR2(50 BYTE),
  F_APPL_TAG      NUMBER(1)                     DEFAULT 0,
  F_CONFIRM       NUMBER(1)                     DEFAULT 0,
  FILE_TYPE_O     NUMBER(10),
  FILE_TYPE_I     NUMBER(10),
  IS_ACTIVE       NUMBER(1)                     DEFAULT 0,
  IS_TRACKING     NUMBER(1)                     DEFAULT 0,
  TRACKING_ORDER  NUMBER(10)                    DEFAULT 1,
  EXECDATE        DATE,
  EXECTIME        VARCHAR2(8 BYTE),
  EXECSTATUS      NUMBER(2),
  SP_SITE_BF      NUMBER(10),
  SP_SITE_AF      NUMBER(10),
  DST_DATE        VARCHAR2(30 BYTE)
)
TABLESPACE USERS2
NOCOMPRESS ;

COMMENT ON TABLE MASTER.REPL_LIST IS 'Список репликаций';

COMMENT ON COLUMN MASTER.REPL_LIST.ID IS 'Репликация';

COMMENT ON COLUMN MASTER.REPL_LIST.NAME IS 'Наименование';

COMMENT ON COLUMN MASTER.REPL_LIST.TAG IS 'ТАГ';

COMMENT ON COLUMN MASTER.REPL_LIST.REPL_KIND IS 'Вид репликации';

COMMENT ON COLUMN MASTER.REPL_LIST.SRC_SITE IS 'Узел-источник';

COMMENT ON COLUMN MASTER.REPL_LIST.SRC_INFO_T IS 'Тип источника';

COMMENT ON COLUMN MASTER.REPL_LIST.SRC_SCHEM IS 'Схема';

COMMENT ON COLUMN MASTER.REPL_LIST.SRC_TABLE IS 'Таблица-источник';

COMMENT ON COLUMN MASTER.REPL_LIST.SRC_FIELDS IS 'Список полей';

COMMENT ON COLUMN MASTER.REPL_LIST.SRC_WHERE IS 'Дополнительное условие';

COMMENT ON COLUMN MASTER.REPL_LIST.SRC_QUERY IS 'Запрос-источник';

COMMENT ON COLUMN MASTER.REPL_LIST.DST_SITE IS 'Узел-назначение';

COMMENT ON COLUMN MASTER.REPL_LIST.DST_SCHEM IS 'Схема';

COMMENT ON COLUMN MASTER.REPL_LIST.DST_TABLE IS 'Таблица-назначение';

COMMENT ON COLUMN MASTER.REPL_LIST.DST_FIELDS IS 'Список полей';

COMMENT ON COLUMN MASTER.REPL_LIST.DST_UNIQ IS 'Уникальный ключ (через запятую)';

COMMENT ON COLUMN MASTER.REPL_LIST.SP_TYPE_BF IS 'Тип процедуры обработки (ДО)';

COMMENT ON COLUMN MASTER.REPL_LIST.SP_NAME_BF IS 'Процедура обработки (ДО)';

COMMENT ON COLUMN MASTER.REPL_LIST.SP_TYPE_AF IS 'Тип процедуры обработки (ПОСЛЕ)';

COMMENT ON COLUMN MASTER.REPL_LIST.SP_NAME_AF IS 'Процедура обработки (ПОСЛЕ)';

COMMENT ON COLUMN MASTER.REPL_LIST.COMPUTE_ST IS 'Список таблиц Oracle, по которым необходимо собрать статистику';

COMMENT ON COLUMN MASTER.REPL_LIST.DATE_FIELD IS 'Поле ДАТА в запросе-источнике';

COMMENT ON COLUMN MASTER.REPL_LIST.DATE_BEG IS 'Временной интервал: с даты';

COMMENT ON COLUMN MASTER.REPL_LIST.DATE_END IS 'Временной интервал: по дату';

COMMENT ON COLUMN MASTER.REPL_LIST.LASTDATE IS 'Дата последнего изменения (для DBF)';

COMMENT ON COLUMN MASTER.REPL_LIST.LASTTIME IS 'Время последнего изменения (для DBF)';

COMMENT ON COLUMN MASTER.REPL_LIST.LASTSIZE IS 'Последний размер (для DBF)';

COMMENT ON COLUMN MASTER.REPL_LIST.PARAM1 IS 'Параметр для передачи в процедуру';

COMMENT ON COLUMN MASTER.REPL_LIST.PARAM2 IS 'Параметр для передачи в процедуру';

COMMENT ON COLUMN MASTER.REPL_LIST.PARAM3 IS 'Параметр для передачи в процедуру';

COMMENT ON COLUMN MASTER.REPL_LIST.CHECK_MODE IS 'Режим проверки необходимости запуска';

COMMENT ON COLUMN MASTER.REPL_LIST.FLAG_IS IS 'Флаг запуска репликации';

COMMENT ON COLUMN MASTER.REPL_LIST.STAT_SCHEM IS 'Схема';

COMMENT ON COLUMN MASTER.REPL_LIST.STAT_TABLE IS 'Таблица статусов';

COMMENT ON COLUMN MASTER.REPL_LIST.STAT_QUERY IS 'Команда обновления статуса';

COMMENT ON COLUMN MASTER.REPL_LIST.REPL_SCHEM IS 'Схема расположения репликационной таблицы';

COMMENT ON COLUMN MASTER.REPL_LIST.REPL_TABLE IS 'Репликационная таблица';

COMMENT ON COLUMN MASTER.REPL_LIST.F_APPL_TAG IS 'Флаг использования поля APPL_TAG';

COMMENT ON COLUMN MASTER.REPL_LIST.F_CONFIRM IS 'Флаг подтверждения репликации';

COMMENT ON COLUMN MASTER.REPL_LIST.FILE_TYPE_O IS 'Исходящий транспортный файл';

COMMENT ON COLUMN MASTER.REPL_LIST.FILE_TYPE_I IS 'Входящий транспортный файл';

COMMENT ON COLUMN MASTER.REPL_LIST.IS_ACTIVE IS 'Активная репликация';

COMMENT ON COLUMN MASTER.REPL_LIST.IS_TRACKING IS 'Участвует в автоматическом опросе';

COMMENT ON COLUMN MASTER.REPL_LIST.TRACKING_ORDER IS 'Порядок опроса';

COMMENT ON COLUMN MASTER.REPL_LIST.EXECDATE IS 'Дата последнего запуска репликации';

COMMENT ON COLUMN MASTER.REPL_LIST.EXECTIME IS 'Время последнего запуска репликации';

COMMENT ON COLUMN MASTER.REPL_LIST.EXECSTATUS IS 'Статус последнего запуска репликации';

COMMENT ON COLUMN MASTER.REPL_LIST.SP_SITE_BF IS 'Узел для вызова процедуры (ДО)';

COMMENT ON COLUMN MASTER.REPL_LIST.SP_SITE_AF IS 'Узел для вызова процедуры (ПОСЛЕ)';

COMMENT ON COLUMN MASTER.REPL_LIST.DST_DATE IS 'Поле "Дата" в таблице-назначении';



